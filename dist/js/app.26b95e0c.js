(function(e){function t(t){for(var r,n,l=t[0],i=t[1],c=t[2],m=0,d=[];m<l.length;m++)n=l[m],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,l=1;l<s.length;l++){var i=s[l];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=n(n.s=s[0]))}return e}var r={},o={app:0},a=[];function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0126":function(e,t,s){},"40e2":function(e,t,s){"use strict";var r=s("0126"),o=s.n(r);o.a},"418d":function(e,t,s){"use strict";var r=s("5c4d"),o=s.n(r);o.a},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],n=s("2877"),l={},i=Object(n["a"])(l,o,a,!1,null,null,null),c=i.exports,u=s("8c4f"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2"},[s("div",{staticClass:"mt-5",attrs:{id:"signUp"}},[s("form",{staticClass:"border border-primary rounded form-inline",on:{submit:e.signUp}},[s("h2",{staticClass:"col-12 text-center text-primary mt-3 mb-5"},[e._v("Registro")]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3",attrs:{for:"names"}},[e._v("Nombres")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.names,expression:"names"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"names",type:"text",placeholder:"Nombres",required:""},domProps:{value:e.names},on:{input:function(t){t.target.composing||(e.names=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"surnames"}},[e._v("Apellidos")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.surnames,expression:"surnames"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"surnames",type:"text",placeholder:"Apellidos",required:""},domProps:{value:e.surnames},on:{input:function(t){t.target.composing||(e.surnames=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3",attrs:{for:"username"}},[e._v("Nombre de Usuario")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"username",type:"text",placeholder:"Nombre de Usuario",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"password"}},[e._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"password",type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"cPassword"}},[e._v("Confirmar Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.cPassword,expression:"cPassword"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",class:{"is-invalid":""!==e.cPassword&&e.cPassword!==e.password,"is-valid":""!==e.cPassword&&e.cPassword===e.password},attrs:{id:"cPassword",type:"password",placeholder:"Confirmar Contraseña",required:""},domProps:{value:e.cPassword},on:{input:function(t){t.target.composing||(e.cPassword=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"rol"}},[e._v("Tipo de Usuario")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"rol",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione un Rol --")]),e._l(e.roles,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.roleName))])}))],2)]),s("div",{staticClass:"col-12 col-sm-6 col-md-5 offset-md-2 text-center mb-3"},[s("span",{staticClass:"text-primary"},[s("small",[s("router-link",{attrs:{to:{name:"login"}}},[e._v("¿Ya tienes cuenta? Inicia Sesión")])],1)])]),e._m(0)])])])])])},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 col-sm-5 col-md-4 mb-3"},[s("button",{staticClass:"col-sm-10 col-md-10 offset-sm-1 offset-md-2 btn btn-primary",attrs:{type:"submit"}},[e._v(" Registrar ")])])}],p=s("bc3a"),f=s.n(p);const v="/registro/nuevo-usuario/rol/";var b={name:"SignUp",data(){return{names:"",surnames:"",username:"",password:"",cPassword:"",role:"",roles:[],response:null}},beforeCreate(){const e="/roles";f.a.get(this.$store.state.backURL+e).then(e=>{200!==e.status?alert("Error en la petición. Intente nuevamente"):this.roles=e.data}).catch(e=>{alert("No es posible conectar con el backend en este momento")})},methods:{signUp(e){if(this.password===this.cPassword)return f.a.post(this.$store.state.backURL+v+this.role,{names:this.names.trim(),surnames:this.surnames.trim(),username:this.username.trim(),password:this.password}).then(e=>{201!==e.status?alert("Error en el almacenamiento del usuario"):alert("Usuario registrado correctamente")}).catch(e=>{400===e.response.status?alert('Parece que ya existe un usuario con el nombre de usuario "'+this.username+'"'):alert("Error en la aplicación")}),e.preventDefault(),!0;e.preventDefault()}}},h=b,g=(s("418d"),Object(n["a"])(h,m,d,!1,null,"66c3d715",null)),C=g.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2"},[s("div",{staticClass:"mt-5"},[s("form",{staticClass:"border border-primary rounded form-inline",on:{submit:e.login}},[s("h2",{staticClass:"col-12 text-center text-primary mt-3 mb-5"},[e._v("Iniciar Sesión")]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3",attrs:{for:"username"}},[e._v("Nombre de Usuario")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"username",type:"text",placeholder:"Nombres",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3",attrs:{for:"password"}},[e._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"password",type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"col-12 col-sm-6 col-md-5 offset-md-2 text-center mb-3"},[s("span",{staticClass:"text-primary"},[s("small",[s("router-link",{attrs:{to:{name:"signup"}}},[e._v("¿No tienes una cuenta? ¡Registrate!")])],1)])]),e._m(0)])])])])])},w=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 col-sm-5 col-md-4 mb-3"},[s("button",{staticClass:"col-sm-10 col-md-10 offset-sm-1 offset-md-2 btn btn-primary",attrs:{type:"submit"}},[e._v(" Iniciar Sesión ")])])}];const y="token-ingesoft";function x(){return localStorage.getItem(y)}function P(e=""){return localStorage.setItem(y,e)}const k="/oauth/token";var N={name:"Login.vue",components:{},data(){return{username:"",password:""}},methods:{login(e){f.a.post(this.$store.state.backURL+k,{},{headers:{"Content-Type":"application/json"},params:{username:this.username,password:this.password,grant_type:"password"},auth:{username:"soft-eng-ii",password:"secret"}}).then(e=>{200!==e.status?alert("Error en la autenticación"):(P(e.data.access_token),this.$router.push({name:"home"}))}).catch(e=>{400===e.response.status?alert("Credenciales incorrectas"):alert("¡Parece que hubo un error de comunicación con el servidor!")}),e.preventDefault()}}},E=N,O=(s("c865"),Object(n["a"])(E,_,w,!1,null,"37e246b3",null)),U=O.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid mt-2"},[s("h1",[e._v("Bienvenido al dummy")]),s("div",{staticClass:"row"},[s("router-view")],1)])},j=[],R={name:"Home",beforeCreate(){x()||this.$router.push({name:"login"})}},S=R,q=Object(n["a"])(S,$,j,!1,null,null,null),I=q.exports,L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2"},[s("div",{staticClass:"mt-5"},[s("form",{staticClass:"border border-primary rounded form-inline",on:{submit:e.associate}},[s("h2",{staticClass:"col-12 text-center text-primary mt-3 mb-5"},[e._v("Asocie su usuario con un nuevo rol")]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3",attrs:{for:"password"}},[e._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"password",type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"rol"}},[e._v("Tipo de Usuario")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"rol",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione un Rol --")]),e._l(e.roles,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.roleName))])}))],2)]),e._m(0)])])])},A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 mb-3"},[s("button",{staticClass:"col-sm-6 col-md-4 offset-sm-5 offset-md-7 btn btn-primary",attrs:{type:"submit"}},[e._v(" Asociar Rol ")])])}],T={name:"AddRole",data(){return{password:"",role:"",roles:[]}},beforeCreate(){const e="/roles";f.a.get(this.$store.state.backURL+e).then(e=>{200!==e.status?alert("Error en la petición. Intente nuevamente"):this.roles=e.data}).catch(e=>{alert("No es posible conectar con el backend en este momento")})},methods:{associate(e){f.a.post(this.buildURI(),{password:this.password},{params:{access_token:localStorage.getItem("token")}}).then(e=>{201!==e.status?alert("Error en la petición. Intente nuevamente"):alert("Se ha asignado exitosamente el nuevo rol")}).catch(e=>{401===e.response.status?alert("¡Ups! Al parecer tu contraseña es incorrecta o la sesión ha finalizado"):400===e.response.status?alert("¿Estás seguro de que aún no tienes ese rol asignado?"):alert("No es posible conectar con el backend en este momento")}),e.preventDefault()},buildURI(){let e="/registro/nuevo-rol/";return this.$store.state.backURL+e+this.role}}},D=T,M=(s("40e2"),Object(n["a"])(D,L,A,!1,null,"41683db5",null)),H=M.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},e._l(e.enrollments,(function(e){return s("Course",{key:e.courseId+"-"+e.role.id,attrs:{enrolled:e}})})),1)},z=[],B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 col-md-6 col-lg-4 text-center"},[s("h1",[s("b",[e._v("Nombre Curso:")]),e._v(e._s(e.enrolled.courseName))]),s("h3",[e._v(e._s(e.enrolled.courseDurationHours))]),s("h6",[e._v(e._s(e.enrolled.role.roleName))])])},Y=[],F={name:"Course",props:{enrolled:Object}},G=F,K=Object(n["a"])(G,B,Y,!1,null,"02356e87",null),Q=K.exports;const V="/mis-cursos";var W={name:"Courses",components:{Course:Q},data(){return{enrollments:[]}},beforeCreate(){f.a.get(this.$store.state.backURL+V,{params:{access_token:x()}}).then(e=>{200!==e.status?alert("Error en la respuesta del servidor"):this.enrollments=e.data}).catch(e=>{alert("Error con la conexión al servidor")})}},X=W,Z=Object(n["a"])(X,J,z,!1,null,"438b67d9",null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 text-center"},e._l(e.roles,(function(t){return s("div",{key:t.id},[s("h1",[e._v(e._s(t.roleName))])])})),0)},se=[];const re="/mis-roles";var oe={name:"Roles",data(){return{roles:[{id:1,roleName:"My Role"}]}},beforeCreate(){f.a.get(this.$store.state.backURL+re,{params:{access_token:x()}}).then(e=>{200!==e.status?alert("Error Obteniendo sus roles"):this.roles=e.data}).catch(e=>{alert("Error en la petición"),console.log(e)})}},ae=oe,ne=Object(n["a"])(ae,te,se,!1,null,"2b23fee4",null),le=ne.exports;r["a"].use(u["a"]);var ie=new u["a"]({mode:"history",base:"/",routes:[{path:"/registro",name:"signup",component:C},{path:"/",alias:"/iniciar-sesion",name:"login",component:U},{path:"/mis-cursos",name:"courses",component:ee},{path:"/principal",name:"home",component:I,children:[{path:"nuevo-rol",name:"add-role",component:H},{path:"roles",name:"roles",component:le}]}]}),ce=s("2f62");r["a"].use(ce["a"]);var ue=new ce["a"].Store({state:{backURL:"http://localhost:8080"},mutations:{},actions:{}});r["a"].config.productionTip=!1,new r["a"]({router:ie,store:ue,render:function(e){return e(c)}}).$mount("#app")},"5c4d":function(e,t,s){},"7f98":function(e,t,s){},c865:function(e,t,s){"use strict";var r=s("7f98"),o=s.n(r);o.a}});
//# sourceMappingURL=app.26b95e0c.js.map